syntax = "proto3";

package openmanet.service.v1;

import "google/protobuf/empty.proto";

// ServiceStatus represents the current status of the OpenMANET node.
message ServiceStatus {
  // Indicates whether the node is connected to other nodes on the mesh.
  bool is_connected = 1;

  // Number of connected neighbors.
  int32 connected_neighbors = 2;

  // Number of mesh interfaces active.
  int32 active_mesh_interfaces = 3;

  // Indicates whether the node is functioning as a mesh gateway.
  bool is_mesh_gateway = 4;

  // Current position of the node.
  Position position = 5;
}

// Position represents the geographical position of the node if available.
message Position {
  // Latitude of the node
  double latitude = 1;
  // Longitude of the node
  double longitude = 2;
  // Altitude of the node
  float altitude = 3;
  // Number of satellites in view
  int32 satellites_in_view = 4;
}

// StatusService provides methods to retrieve the status of the OpenMANET service.
service StatusService {
  // Retrieves the current status of the OpenMANET service.
  rpc GetServiceStatus(google.protobuf.Empty) returns (ServiceStatusResponse);
}

message ServiceStatusResponse {
  // The current status of the OpenMANET service.
  ServiceStatus status = 1;
}
